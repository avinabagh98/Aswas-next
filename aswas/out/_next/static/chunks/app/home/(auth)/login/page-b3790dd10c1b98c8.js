(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[573],{139:function(e,n,o){Promise.resolve().then(o.bind(o,5921))},5921:function(e,n,o){"use strict";o.r(n),o.d(n,{default:function(){return p}});var s=o(7437),a=o(4779),t=o(1120),l=o.n(t),r=o(7907),i=o(2265),c=o(3097),u=o(7908),d=o(4355),g=o.n(d),h=o(6522);function p(){let[e,n]=(0,i.useState)(),[o,t]=(0,i.useState)(),[d,p]=(0,i.useState)(),[m,_]=(0,i.useState)(),f=(0,r.useRouter)(),x=(0,c.Z)();(0,i.useEffect)(()=>{"undefined"!=typeof localStorage?(n(localStorage.getItem("role_id")),_(localStorage.getItem("role_name"))):console.log("LocalStorage is not available")},[]);let j={phone:o,password:d,role_id:e},v=async e=>{try{e.preventDefault();let n=(await u.Z.post("".concat("https://aswaas.ostech.xyz/api","/login"),j)).data.access_token;localStorage.setItem("token",n),localStorage.setItem("phone",o),g()("Successfully","logged in","success"),f.push("/home/dashboard")}catch(e){g()("Login Error","Please enter valid credentials","error")}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.Z,{isOffCanvasVisible:!1,loadingdata:{name:m,municipality_name:"",team_num:"",ward_name:""}}),(0,s.jsxs)("div",{className:l().loginContainer,children:[(0,s.jsx)("h2",{children:null==x?void 0:x.user_login}),(0,s.jsxs)("div",{className:l().loginForm,children:[(0,s.jsxs)("span",{children:[(0,s.jsx)("label",{htmlFor:"username",children:null==x?void 0:x.user_name}),(0,s.jsx)("input",{onChange:e=>t(e.target.value),type:"text",id:"username"})]}),(0,s.jsxs)("span",{children:[(0,s.jsx)("label",{htmlFor:"password",children:null==x?void 0:x.password}),(0,s.jsx)("input",{onChange:e=>p(e.target.value),type:"password",id:"password"})]}),(0,s.jsx)("button",{onClick:v,children:null==x?void 0:x.login}),(0,s.jsx)("a",{href:"#",children:(0,s.jsx)("p",{children:null==x?void 0:x.forgot_your_password})})]})]}),(0,s.jsx)(a.Z,{})]})}},1120:function(e){e.exports={loginContainer:"login_loginContainer__0OKUs",loginForm:"login_loginForm__rkfcU"}}},function(e){e.O(0,[308,908,701,971,69,744],function(){return e(e.s=139)}),_N_E=e.O()}]);